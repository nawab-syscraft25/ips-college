{% extends "base.html" %}
{% block content %}
<h1 class="mb-4">{{ 'Edit' if action == 'edit' else 'Add' }} Shared Section</h1>

<form method="post" action="{% if action == 'edit' %}/admin/cms/shared-sections/{{ section.id }}/edit{% else %}/admin/cms/shared-sections/new{% endif %}">
  {% if action == 'edit' and section %}
  <div class="mb-3 d-flex justify-content-end">
    <a href="/admin/cms/shared-sections/{{ section.id }}/items" class="btn btn-outline-secondary me-2">Manage items ({{ section.items|length }})</a>
  </div>
  {% endif %}
  <div class="row">
    <div class="col-md-8">
      <div class="mb-3">
        <label class="form-label">Section type</label>
        <input name="section_type" class="form-control" value="{{ section.section_type if section else 'CONTENT' }}" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Title</label>
        <input name="section_title" class="form-control" value="{{ section.section_title if section else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Subtitle</label>
        <input name="section_subtitle" class="form-control" value="{{ section.section_subtitle if section else '' }}">
      </div>
    </div>
    <div class="col-md-4">
      <div class="mb-3">
        <label class="form-label">Sort order</label>
        <input name="sort_order" type="number" class="form-control" value="{{ section.sort_order if section else '0' }}">
      </div>
      <div class="form-check mb-3">
        <input type="checkbox" class="form-check-input" id="is_active" name="is_active" value="1" {% if (section and section.is_active) or not section %}checked{% endif %}>
        <label class="form-check-label" for="is_active">Active</label>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Save</button>
  <a href="/admin/cms/shared-sections" class="btn btn-link">Cancel</a>
</form>
{% endblock %}
