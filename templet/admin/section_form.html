{% extends "base.html" %}
{% block content %}
<h1 class="mb-4">{{ 'Edit' if action == 'edit' else 'Add' }} Section â€” {{ page.title }}</h1>

<form method="post" action="{% if action == 'edit' %}/admin/pages/{{ page.id }}/sections/{{ section.id }}/edit{% else %}/admin/pages/{{ page.id }}/sections/new{% endif %}">
  <div class="row">
    <div class="col-md-7">
      <div class="mb-3">
        <label class="form-label">Section title</label>
        <input name="section_title" class="form-control" value="{{ section.section_title if section else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Section subtitle</label>
        <input name="section_subtitle" class="form-control" value="{{ section.section_subtitle if section else '' }}">
      </div>
    </div>
    <div class="col-md-5">
      <div class="mb-3">
        <label class="form-label">Section type</label>
        <select name="section_type" class="form-select">
          {% set current_type = section.section_type if section else 'CONTENT' %}
          <option value="HERO" {% if current_type == 'HERO' %}selected{% endif %}>Hero</option>
          <option value="CONTENT" {% if current_type == 'CONTENT' %}selected{% endif %}>Content</option>
          <option value="STATS" {% if current_type == 'STATS' %}selected{% endif %}>Statistics</option>
          <option value="CARDS" {% if current_type == 'CARDS' %}selected{% endif %}>Cards / grid</option>
          <option value="LIST" {% if current_type == 'LIST' %}selected{% endif %}>List</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Sort order</label>
        <input name="sort_order" type="number" class="form-control" value="{{ section.sort_order if section else '0' }}">
      </div>
      <div class="form-check mb-3">
        <input type="checkbox" class="form-check-input" id="is_active" name="is_active" value="1" {% if (section and section.is_active) or not section %}checked{% endif %}>
        <label class="form-check-label" for="is_active">Active</label>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Save</button>
  <a href="/admin/pages/{{ page.id }}/sections" class="btn btn-link">Back</a>
</form>
{% endblock %}

